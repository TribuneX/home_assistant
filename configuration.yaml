homeassistant:
  # Name of the location where Home Assistant is running
  name: Frankfurt

  # Location required to calculate the time the sun rises and sets
  latitude: !secret latitude_value
  longitude: !secret longitude_value
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 107

  # metric for Metric, imperial for Imperial
  unit_system: metric
  
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/Berlin

  customize: !include includes/customize.yaml
  packages: !include_dir_named packages

logger:
  default: warning

mqtt:
  broker: !secret mqtt_broker_ip
  username: owntracks
  password: !secret mqtt_password
  protocol: 3.1
  port: 1883

map:

influxdb:
  host: !secret influxdb_ip
  username: homeassistant
  password: influxdb_password
  max_retries: 10
  include:
    domains:
      - sensor
      - binary_sensor

recorder:
  db_url: !secret mysql_path
  purge_interval: 2
  purge_keep_days: 5
  exclude:
    domains:
      - automation
      - script
    entities:
      - sensor.netatmo
      - sensor.netatmo_outdoor_radio
      - sensor.netatmo_schlafzimmer_radio
      - sensor.dark_sky_summary
      - sensor.dark_sky_hourly_summary
      - device_tracker.netatmo
      - device_tracker.server
      - device_tracker.wohnzimmer
      - device_tracker.appletv
      - device_tracker.tradfri
      - device_tracker.switch
      - device_tracker.plex
      - device_tracker.broadlink
      - device_tracker.epson029ea9
      - device_tracker.batplay1
      - light.kuche1
      - light.kuche2
      - light.eingang
      - sensor.tribunexhome_assistant_last_build_duration
      - sensor.tribunexhome_assistant_last_build_finished_at
      - sensor.tribunexhome_assistant_last_build_id
      - sensor.tribunexhome_assistant_last_build_started_at
      - sensor.tribunexhome_assistant_last_build_state

# Enables the frontend
frontend:
  javascript_version: latest

http:
  api_password: !secret http_password
  base_url: !secret base_url
  ssl_certificate: !secret ssl_certificate_path        
  ssl_key: !secret ssl_private_key
  ip_ban_enabled: True
  login_attempts_threshold: 3

# Discover some devices automatically
discovery:

# Enables support for tracking state changes over time.
history:

# View all events in a logbook
logbook:
  exclude:
    entities:
      - sensor.netatmo
      - sensor.netatmo_outdoor_radio
      - sensor.netatmo_schlafzimmer_radio
      - sensor.dark_sky_summary
      - sensor.dark_sky_hourly_summary
      - device_tracker.netatmo
      - device_tracker.server
      - device_tracker.wohnzimmer
      - device_tracker.appletv
      - device_tracker.tradfri
      - device_tracker.switch
      - device_tracker.plex
      - device_tracker.broadlink
      - device_tracker.epson029ea9
      - device_tracker.batplay1
      - device_tracker.aquara_gateway
      - light.kuche1
      - light.kuche2
      - light.eingang
      - sensor.tribunexhome_assistant_last_build_duration
      - sensor.tribunexhome_assistant_last_build_finished_at
      - sensor.tribunexhome_assistant_last_build_id
      - sensor.tribunexhome_assistant_last_build_started_at
      - sensor.tribunexhome_assistant_last_build_state
      - binary_sensor.motion_sensor_158d0001a90475
      - binary_sensor.switch_158d0001d8795f
      - light.gateway_light_7811dc6c865a
      - sensor.illumination_7811dc6c865a


# Support for iOS app
ios:

# iOS notification
notify:
  platform: ios
  name: ios_app
  target: !secret ios_token

# Presence Detection
device_tracker:
  - platform: fritz
    host: !secret fritz_host
    password: !secret fritz_password
    track_new_devices: false 
  - platform: owntracks
    max_gps_accuracy: 100
  #- platform: bluetooth_tracker

# Track the sun
sun:

media_player:
  - platform: apple_tv
    host: atv.cbs-service.net
    login_id: !secret atv_login
    credentials: !secret atv_credentials
  - platform: apple_tv
    host: atv2.cbs-service.net
    login_id: !secret atv_login
    credentials: !secret atv2_credentials

  - platform: sonos
    hosts: 
      - !secret sonos_ip
      - !secret sonos2_ip

netatmo:
  api_key: !secret netatmo_api_key
  secret_key: !secret netatmo_secret_key
  username: !secret netatmo_username
  password: !secret netatmo_password

input_select:
  tv_mode:
    name: 'TV mode'
    options:
     - AUS
     - TV
     - AppleTV
     - Plex
     - Music
    initial: AUS
    icon: mdi:television
  sonos_source:
    name: Sonos Source
    options:
      - Hits
      - Fidi & Bumsi
      - HIT RADIO FFH
      - ANTENNE BAYERN
      - Christmas
      - Gregor
      - Soundtracks
      - SELECT
    initial: SELECT
    icon: mdi:radio
  log_level:
    name: 'Log Level'
    options:
      - critical
      - fatal
      - error
      - warning
      - warn
      - info
      - debug
      - notset
    initial: error

input_number:
  sonos_speaker:
    name: Volume
    initial: 0.1
    min: 0
    max: 1
    step: 0.01

tradfri:
  host: !secret tradfri_ip
  allow_tradfri_groups: true

xiaomi_aqara:
  discovery_retry: 5
  gateways:
    - key: !secret aqara_token

vacuum:
  platform: xiaomi_miio 
  name: 'Vacuum Cleaner'
  host: !secret robo_ip
  token: !secret mirobo_token


zone 1:
  name: Work User 1
  latitude: !secret lat_zone_1 
  longitude: !secret long_zone_1 

zone 2:
  name: Work User 2
  latitude: !secret lat_zone_2 
  longitude: !secret long_zone_2 


##########################
# Includes
##########################

sensor: !include includes/sensors.yaml
binary_sensor: !include includes/binary_sensor.yaml
automation: !include_dir_merge_list automation/
script: !include includes/scripts.yaml
group: !include includes/groups.yaml
switch: !include includes/switch.yaml
input_boolean: !include includes/inputs.yaml
shell_command: !include includes/shell_commands.yaml
light: !include includes/lights.yaml
plant: !include includes/plants.yaml
homekit: !include includes/homekit.yaml
