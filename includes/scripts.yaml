##########################
# Skripte
##########################

restart_ha:
  alias: Restart Home Assistant
  sequence:
    - alias: Restart Home Assistant
      service: homeassistant.restart

reload_automations:
  alias: Reload Automations
  sequence:
    - alias: Reload-Automations
      service: automation.reload

reboot_pi:
  alias: Reboot System
  sequence:
    - service: homeassistant.turn_off
    - service: shell_command.pi 

# Turns lights on and off after sunset
vacation_lights:
  alias: Vacation Light Mode
  sequence:
    # wait an hour after sunset
    - delay:
        hours: 1
    # turn lights on for 2 hours after sunset
    - service: switch.turn_on
      entity_id: switch.light_tv
    - delay:
        hours: 2
    # turn lights off and wait 2 hours
    - service: switch.turn_off
      entity_id: switch.light_tv
    - delay:
        hours: 2    
    # turn lights on for 30 more minutes
    - service: switch.turn_on
      entity_id: switch.light_tv
    - delay:
        minutes: 30
    # turn lights off
    - service: switch.turn_off
      entity_id: switch.light_tv
# Inspired by https://github.com/Tommatheussen/Home-Assistant-Configuration/blob/master/script/get_latest_config.yaml
get_latest_config:
  alias: "Get Latest Config"
  sequence:
    - service: shell_command.git_pull
restart_music:
  alias: "Restart Music"
  sequence:
    - service: shell_command.restart_forked_daapd

watch_tv:
  sequence:
    - service: broadlink.send_packet_192_168_178_51
      data:
        packet: 
          - "JgCMAJOVEzcTNhM3ExITEhMSExITEhM3EzcUNhMSExITEhMSEhMSEhM3ExITEhM3ExITEhMSEzcTEhM3EzcTEhM2EzcTNxMABgeTlRI4EzcSOBEUERQRFBAUERQRORI4EjgSExEUERQRFBEUERQROREUERQROBMSERQRFBE5EhMRORI4EhMRORI4ETkRAA0FAAAAAAAAAAAAAAAA="
          - "JgBQAAABKJMUERQ1FREUERQ1FBEUNRQ2FDUUERU0FTUUERQ1FTUUERQ1FBEVEBU1FBEUERQRFBEVEBU1FDUUERU0FTUUNRQ1FQAFAgABKEgUAA0FAAAAAAAAAAA="

watch_apple_tv:
  sequence:
    - service: broadlink.send_packet_192_168_178_51
      data:
        packet: 
          - "JgCMAJOWEjgRORE5EhMRFBEUERQRFBE5ETkROBEUERQSExEUERQRNxMUERQRFBEUEhMRFBEUERQRORE4EjgSOBI4ETkSOBIABgeVlRI4EjgSOBITEhMRFBEUERQRORE4ETkSExITERQSExEUETkSExEUEhMRFBITERQRFBEUETkROBI4EjgRORI4EjgSAA0FAAAAAAAAAAAAAAAA="
          - "JgCMAJOWEjgRORE5EhMRFBEUERQRFBE5ETkROBEUERQSExEUERQRNxMUERQRFBEUEhMRFBEUERQRORE4EjgSOBI4ETkSOBIABgeVlRI4EjgSOBITEhMRFBEUERQRORE4ETkSExITERQSExEUETkSExEUEhMRFBITERQRFBEUETkROBI4EjgRORI4EjgSAA0FAAAAAAAAAAAAAAAA="
          - "JgBQAAABKJMUERQ1FBEVEBU1FBEUNRQ2FDUUERU0FDYUERQ1FTUUERQ1FDUUNhQ1FBEVEBURFBEUERQRFBEUERQ1FDYUNRQ1FQAFAgABKEgUAA0FAAAAAAAAAAA="

watch_fire_tv:
  sequence:
    - service: broadlink.send_packet_192_168_178_51
      data:
        packet: 
          - "JgCMAJOWEjgRORE5EhMRFBEUERQRFBE5ETkROBEUERQSExEUERQRNxMUERQRFBEUEhMRFBEUERQRORE4EjgSOBI4ETkSOBIABgeVlRI4EjgSOBITEhMRFBEUERQRORE4ETkSExITERQSExEUETkSExEUEhMRFBITERQRFBEUETkROBI4EjgRORI4EjgSAA0FAAAAAAAAAAAAAAAA="
          - "JgCMAJOWEjgRORE5EhMRFBEUERQRFBE5ETkROBEUERQSExEUERQRNxMUERQRFBEUEhMRFBEUERQRORE4EjgSOBI4ETkSOBIABgeVlRI4EjgSOBITEhMRFBEUERQRORE4ETkSExITERQSExEUETkSExEUEhMRFBITERQRFBEUETkROBI4EjgRORI4EjgSAA0FAAAAAAAAAAAAAAAA="
          - "JgBQAAABKZIUERU1FBEUERQ1FBEVNRQ1FDUUEhQ1FDUUERU1FDUUERQ2FBEUNRQ1FBIUERQRFBEUERQ1FBEVERQ1FDUUNRU1FAAFAgABKEkUAA0FAAAAAAAAAAA="

listen_to_music:
  sequence:
    - service: broadlink.send_packet_192_168_178_51
      data:
        packet: 
          - "JgBQAAABKJMUERQ1FBEVEBU1FBEUNRQ2FDUUERU0FDYUERQ1FTUUERQ1FDUUNhQ1FBEVEBURFBEUERQRFBEUERQ1FDYUNRQ1FQAFAgABKEgUAA0FAAAAAAAAAAA="


